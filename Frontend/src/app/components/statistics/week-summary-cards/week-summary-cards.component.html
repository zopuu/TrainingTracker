<div class="card-grid" inViewport (visible)="onSectionVisible()" [class.visible]="sectionVisible">
    <mat-card class="metric">
        <mat-icon fontSet="material-symbols-outlined">timer</mat-icon>
        <h3 mat-card-title>
            <div
            [countUp]="sectionVisible ? weekStats.totalMinutes : 0">0</div>
        </h3>
        <p mat-card-subtitle>Total Minutes</p>
    </mat-card>
    <mat-card class="metric">
        <mat-icon fontSet="material-symbols-outlined">checklist</mat-icon>
        <h3 mat-card-title>
            <div
            [countUp]="sectionVisible ? weekStats.sessions : 0">0</div>
        </h3>
        <p mat-card-subtitle>Training sessions</p>
    </mat-card>
    <mat-card class="metric">
        <mat-icon fontSet="material-symbols-outlined">local_fire_department</mat-icon>
        <h3 mat-card-title>
            <div
            [countUp]="sectionVisible ? weekStats.totalCalories : 0">0</div>
        </h3>
        <p  mat-card-subtitle>Calories Burned</p>
      </mat-card>
    <mat-card class="metric">
        <mat-icon matCardAvatar>
            {{ weekStats.dominantType.toLowerCase() === 'cardio'       ? 'directions_run'
               : weekStats.dominantType.toLowerCase() === 'strength'   ? 'fitness_center'
               : weekStats.dominantType.toLowerCase() === 'flexibility'? 'self_improvement'
               : weekStats.dominantType.toLowerCase() === 'recovery'   ? 'autorenew'
               : 'push_pin' }}
        </mat-icon>
        <h3 mat-card-title>{{weekStats.dominantType}}</h3>
        <p mat-card-subtitle>Favourite Training</p>
    </mat-card>
    <!-- Average difficulty -->
    <mat-card class="metric">
        <mat-icon fontSet="material-symbols-outlined">readiness_score</mat-icon>
        <h3 mat-card-title>
            <div
            [countUp]="sectionVisible ? weekStats.avgDifficulty : 0"
            [options]="{
                suffix: '/10',
                decimalPlaces: 1,
                duration: 2,
            }">0</div>
        </h3>
        <p  mat-card-subtitle>Avg Difficulty</p>
      </mat-card>
    
      <!-- Average fatigue -->
      <mat-card class="metric">
        <mat-icon fontSet="material-symbols-outlined">battery_alert</mat-icon>
        <h3 mat-card-title>
            <div
            [countUp]="sectionVisible ? weekStats.avgFatigue : 0"
            [options]="{
                suffix: '/10',
                decimalPlaces: 1,
                duration: 2,
            }">0</div>
        </h3>
        <p  mat-card-subtitle>Avg Fatigue</p>
      </mat-card>

</div>